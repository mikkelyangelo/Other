Программа реализована N+1 потоками управления. Корневой поток отвечает за считывание информации из конфигурационного файла, выделения необходимой памяти, запуск остальных потоков. Остальные N потоков имитируют работу станков поточной линии, которые обрабатывают заготовки. Между станками заготовки перемещаются по промежуточным буферам. Всего таких буферов N. В первый буфер попадают все заготовки, считанные корневым потоком из потока стандартного ввода, остальные буферы используются для передачи заготовок непосредственно между станками. Для реализации буферов были использованы каналы pipe, т.к. они автоматически сохраняют порядок заготовок в очереди и позволяют избавиться от постоянного контроля и выделения памяти для буферов. Для регулирования работы станков были использованы семафоры Корневой поток помещает номера заготовок в буфер первого станка. При успешной передаче данных в буфер, увеличивает значение семафора на единицу. Первый станок уменьшает значение семафора на единицу и считывает данные из своего буфера, имитирует обработку заготовки и передает её в буфер станка 2, аналогично тому, как главный поток передаёт данные в буфер первого станка. Помимо этого, станок, после окончания обработки детали, увеличивает значение семафора на единицу. Когда заготовок не остается, корневой поток посылает сигнал о завершении работы станкам и дожидается, пока все потоки не завершатся. В данной реализации программы заготовки различного типа нумеруются целыми положительными числами начиная с 0 (0, 1, 2, ...). Поэтому в качестве сигнала завершения я использую	"заготовку" с номером -1. Для станков получение такой "заготовки" из входного буфера означает, что все заготовки уже
 
обработаны и нужно завершать свою работу. После того, как все потоки-станки завершились, корневой поток тоже завершает свою работу.
